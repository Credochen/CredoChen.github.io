<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 学习bash变量 · Brightness</title><meta name="description" content="学习bash变量 - Guangpeng Chen"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">学习bash变量</h1><div class="post-meta"><div class="post-time">Oct 18, 2015</div></div><div class="post-content"><ul>
<li><p>1.变量键盘读取</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#62; read [-pt] variable&#10;    &#21442;&#25968;&#65306;&#10;    -p:&#21518;&#38754;&#21487;&#20197;&#25509;&#25552;&#31034;&#31526;&#10;    -t:&#21518;&#38754;&#21487;&#20197;&#25509;&#31561;&#24453;&#30340;&#31186;&#25968;&#10;&#62; read -p &#34;please input your name:&#34; -t 30 name&#10;    please input your name:cgp&#10;&#62; echo $&#123;name&#125;&#10;    cgp</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.变量声明：declare/typeset</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#62; declare [-aixr] variable&#10;&#21442;&#25968;&#65306;&#10;-a:array&#31867;&#22411;&#10;-i:&#25972;&#25968;&#25968;&#23383;&#65288;integer&#65289;&#31867;&#22411;&#10;-x:&#23558;&#21464;&#37327;&#21464;&#25104;&#29615;&#22659;&#21464;&#37327;&#10;-r:readonly&#31867;&#22411;&#10;&#62; sum=100+200+300&#10;&#62; echo $sum&#10; sum=100+200+300&#10;&#62; declare -i  sum=100+200+300&#10;&#62; echo $sum&#10;600&#10;&#62; declare -x sum #&#23558;sum&#23450;&#20041;&#20026;&#29615;&#22659;&#21464;&#37327;&#10;&#62; export | grep sum&#10;declare -ix sum=&#34;600&#34;&#10;&#62; declare -r sum&#10;sum=testing&#10;-bash: sum: readonly variable#&#23450;&#20041;&#20026;&#21482;&#35835;&#30340;&#21464;&#37327;&#26080;&#27861;&#20462;&#25913;&#10;&#62; declare +x sum #&#23558;&#8216;-&#8217;&#21464;&#25104;&#8216;+&#8217;&#21487;&#20197;&#36827;&#34892;&#8220;&#21462;&#28040;&#25805;&#20316;&#8221;&#10;&#62; declare -p sum #&#21333;&#29420;&#21015;&#20986;&#21464;&#37327;&#30340;&#31867;&#22411;&#10;declare -ir sum=&#34;600&#34;&#10;&#62;  declare -a arra&#10;&#62; arra[0]=&#39;hello&#39;&#10;&#62; arra[1]=&#39;wrorld&#39;&#10;&#62;  echo $&#123;arra[0]&#125;,$&#123;arra[1]&#125;&#10;hello,wrorld</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tips:<br>如果将变量设置成了“只读”=&gt;注销后才能复原</p>
</blockquote>
</li>
<li><p>3.与文件系统及程序的限制关系:ulimit</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#62; man ulimit&#10;&#62; ulimit -a #&#26597;&#30475;&#30446;&#21069;&#36523;&#20221;&#30340;&#38480;&#21046;&#25968;&#25454;&#25968;&#20540;&#10;&#62; ulimit -f 10240 # &#38480;&#21046;&#29992;&#25143;&#20165;&#33021;&#21019;&#24314;&#23567;&#20110;10M&#20197;&#19979;&#30340;&#23481;&#37327;&#30340;&#25991;&#20214;</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.变量删除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.&#20174;&#21069;&#38754;&#24320;&#22987;&#21305;&#37197;&#10;***#***:&#21024;&#38500;&#31526;&#21512;&#26367;&#25442;&#25991;&#23383;&#30340;&#8220;&#26368;&#30701;&#30340;&#8221;&#37027;&#19968;&#20010;&#12290; &#10;&#62; echo $&#123;path#/*vagrant/*:&#125; &#10;***##***:&#21024;&#38500;&#31526;&#21512;&#26367;&#25442;&#25991;&#23383;&#30340;&#8220;&#26368;&#38271;&#30340;&#8221;&#37027;&#19968;&#20010;&#12290;&#10;&#62; echo $&#123;path##/*:&#125;  #&#20165;&#20445;&#30041;&#26368;&#21518;&#19968;&#20010;&#30446;&#24405;&#10;&#62; echo $MAIL         =&#62;/var/mail/vagrant&#10;&#62; echo $&#123;MAIL##/*/&#125;   =&#62;vagrant&#10;&#62; echo $&#123;MAIL%/*&#125;    =&#62;/var/mail&#10;2.&#20174;&#21518;&#38754;&#24320;&#22987;&#21305;&#37197;&#10;***%***:&#21024;&#38500;&#31526;&#21512;&#26367;&#25442;&#25991;&#23383;&#30340;&#8220;&#26368;&#30701;&#30340;&#8221;&#37027;&#19968;&#20010;&#12290; &#10;***%%***:&#21024;&#38500;&#31526;&#21512;&#26367;&#25442;&#25991;&#23383;&#30340;&#8220;&#26368;&#30701;&#30340;&#8221;&#37027;&#19968;&#20010;&#12290;</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.替换</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">***$&#123;variable/find/replace&#125;***:&#26367;&#25442;&#31532;&#19968;&#20010;&#21305;&#37197;&#23383;&#31526;&#20018;&#10;&#62; echo $&#123;MAIL/vagrant/cgp&#125;&#10;/var/mail/cgp&#10;***$&#123;variable//find/replace&#125;***:&#26367;&#25442;&#20840;&#37096;&#21305;&#37197;&#23383;&#31526;&#20018;&#10;&#62; echo $&#123;PATH//vagrant/cgp&#125;&#10;/home/cgp/.rvm/gems/ruby-2.0.0-p353/bin:/home/cgp/.rvm/gems/ruby-2.0.0-p353@glob&#10;al/bin:&#10;...</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.<br><strong><em>“-”</em></strong>:减号</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=$&#123;username-root&#125;&#10;=&#62;&#22914;&#26524;&#21464;&#37327;&#34;username&#34;&#19981;&#23384;&#22312;&#25110;&#20026;&#31354;&#23383;&#31526;&#20018;&#21017;&#23558;&#34;username&#34;&#35774;&#32622;&#25104;&#34;root&#34;</span><br></pre></td></tr></table></figure></li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2016/02/03/hello-world/" class="prev">上一篇</a><a href="/2015/10/18/《高性能MySQL》读书笔记——查询性能优化/" class="next">下一篇</a></div><div class="copyright"><p>© 2016 <a href="http://guangpeng.me">Guangpeng Chen</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>