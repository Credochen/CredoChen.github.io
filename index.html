<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="å…‰ä¼šè‡ªç„¶ç…§åˆ°å®ƒåº”è¯¥åˆ°è¾¾çš„åœ°æ–¹ã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="å…‰">
<meta property="og:url" content="http://blog.guangpeng.me/index.html">
<meta property="og:site_name" content="å…‰">
<meta property="og:description" content="å…‰ä¼šè‡ªç„¶ç…§åˆ°å®ƒåº”è¯¥åˆ°è¾¾çš„åœ°æ–¹ã€‚">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å…‰">
<meta name="twitter:description" content="å…‰ä¼šè‡ªç„¶ç…§åˆ°å®ƒåº”è¯¥åˆ°è¾¾çš„åœ°æ–¹ã€‚">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>

  <title> å…‰ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">å…‰</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">ç¨‹åºå‘˜ç¬”è®°</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/22/Elasticsearch å…¥é—¨/" itemprop="url">
                  Elasticsearchå…¥é—¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-22T21:38:43+08:00" content="2016-05-22">
              2016-05-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="install-plugin"><a href="#install-plugin" class="headerlink" title="install plugin"></a>install plugin</h3><ul>
<li><p>head</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugin install mobz/elasticsearch-head</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
<li><p>kpof</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plug install lmenezes/elasticsearch-kopf/master</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
<h3 id="ä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“å¯¹æ¯”"><a href="#ä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“å¯¹æ¯”" class="headerlink" title="ä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“å¯¹æ¯”"></a>ä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“å¯¹æ¯”</h3><table>
<thead>
<tr>
<th>MySQL</th>
<th>Elasticsearch</th>
</tr>
</thead>
<tbody>
<tr>
<td>Database-æ•°æ®åº“</td>
<td>Indices-ç´¢å¼•</td>
</tr>
<tr>
<td>Tables-è¡¨</td>
<td>Types-ç±»å‹</td>
</tr>
<tr>
<td>Rows-è¡Œ</td>
<td>Documents-æ–‡æ¡£</td>
</tr>
<tr>
<td>Columns-åˆ—</td>
<td>Fields-</td>
</tr>
</tbody>
</table>
<h3 id="é…ç½®è¯´æ˜"><a href="#é…ç½®è¯´æ˜" class="headerlink" title="é…ç½®è¯´æ˜"></a>é…ç½®è¯´æ˜</h3><blockquote>
<p>elasticsearchçš„configæ–‡ä»¶å¤¹é‡Œé¢æœ‰ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼šelasticsearch.ymlå’Œlogging.ymlï¼Œç¬¬ä¸€ä¸ªæ˜¯esçš„åŸºæœ¬é…ç½®æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªæ˜¯æ—¥å¿—é…ç½®æ–‡ä»¶ï¼Œesä¹Ÿæ˜¯ä½¿ç”¨log4jæ¥è®°å½•æ—¥å¿—çš„ï¼Œæ‰€ä»¥logging.ymlé‡Œçš„è®¾ç½®æŒ‰æ™®é€šlog4jé…ç½®æ–‡ä»¶æ¥è®¾ç½®å°±è¡Œäº†ã€‚ä¸‹é¢ä¸»è¦è®²è§£ä¸‹elasticsearch.ymlè¿™ä¸ªæ–‡ä»¶ä¸­å¯é…ç½®çš„ä¸œè¥¿ã€‚</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">cluster.name: elasticsearch</span><br><span class="line"><span class="comment">#é…ç½®esçš„é›†ç¾¤åç§°ï¼Œé»˜è®¤æ˜¯elasticsearchï¼Œesä¼šè‡ªåŠ¨å‘ç°åœ¨åŒä¸€ç½‘æ®µä¸‹çš„esï¼Œå¦‚æœåœ¨åŒä¸€ç½‘æ®µä¸‹æœ‰å¤šä¸ªé›†ç¾¤ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªå±æ€§æ¥åŒºåˆ†ä¸åŒçš„é›†ç¾¤ã€‚</span></span><br><span class="line"></span><br><span class="line">node.name: <span class="string">"FranzKafka"</span></span><br><span class="line"><span class="comment">#èŠ‚ç‚¹åï¼Œé»˜è®¤éšæœºæŒ‡å®šä¸€ä¸ªnameåˆ—è¡¨ä¸­åå­—ï¼Œè¯¥åˆ—è¡¨åœ¨esçš„jaråŒ…ä¸­configæ–‡ä»¶å¤¹é‡Œname.txtæ–‡ä»¶ä¸­ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šä½œè€…æ·»åŠ çš„æœ‰è¶£åå­—ã€‚</span></span><br><span class="line"></span><br><span class="line">node.master: <span class="literal">true</span></span><br><span class="line"><span class="comment">#æŒ‡å®šè¯¥èŠ‚ç‚¹æ˜¯å¦æœ‰èµ„æ ¼è¢«é€‰ä¸¾æˆä¸ºnodeï¼Œé»˜è®¤æ˜¯trueï¼Œesæ˜¯é»˜è®¤é›†ç¾¤ä¸­çš„ç¬¬ä¸€å°æœºå™¨ä¸ºmasterï¼Œå¦‚æœè¿™å°æœºæŒ‚äº†å°±ä¼šé‡æ–°é€‰ä¸¾masterã€‚</span></span><br><span class="line"></span><br><span class="line">node.data: <span class="literal">true</span></span><br><span class="line"><span class="comment">#æŒ‡å®šè¯¥èŠ‚ç‚¹æ˜¯å¦å­˜å‚¨ç´¢å¼•æ•°æ®ï¼Œé»˜è®¤ä¸ºtrueã€‚</span></span><br><span class="line"></span><br><span class="line">index.number_of_shards: <span class="number">5</span></span><br><span class="line"><span class="comment">#è®¾ç½®é»˜è®¤ç´¢å¼•åˆ†ç‰‡ä¸ªæ•°ï¼Œé»˜è®¤ä¸º5ç‰‡ã€‚</span></span><br><span class="line"></span><br><span class="line">index.number_of_replicas: <span class="number">1</span></span><br><span class="line"><span class="comment">#è®¾ç½®é»˜è®¤ç´¢å¼•å‰¯æœ¬ä¸ªæ•°ï¼Œé»˜è®¤ä¸º1ä¸ªå‰¯æœ¬ã€‚</span></span><br><span class="line"></span><br><span class="line">path.conf: /path/to/conf</span><br><span class="line"><span class="comment">#è®¾ç½®é…ç½®æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤æ˜¯esæ ¹ç›®å½•ä¸‹çš„configæ–‡ä»¶å¤¹ã€‚</span></span><br><span class="line"></span><br><span class="line">path.data: /path/to/data</span><br><span class="line"><span class="comment">#è®¾ç½®ç´¢å¼•æ•°æ®çš„å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤æ˜¯esæ ¹ç›®å½•ä¸‹çš„dataæ–‡ä»¶å¤¹ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªå­˜å‚¨è·¯å¾„ï¼Œç”¨é€—å·éš”å¼€ï¼Œä¾‹ï¼š</span></span><br><span class="line">path.data: /path/to/data1,/path/to/data2</span><br><span class="line"></span><br><span class="line">path.work: /path/to/work</span><br><span class="line"><span class="comment">#è®¾ç½®ä¸´æ—¶æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤æ˜¯esæ ¹ç›®å½•ä¸‹çš„workæ–‡ä»¶å¤¹ã€‚</span></span><br><span class="line"></span><br><span class="line">path.logs: /path/to/logs</span><br><span class="line"><span class="comment">#è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤æ˜¯esæ ¹ç›®å½•ä¸‹çš„logsæ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line">path.plugins: /path/to/plugins</span><br><span class="line"><span class="comment">#è®¾ç½®æ’ä»¶çš„å­˜æ”¾è·¯å¾„ï¼Œé»˜è®¤æ˜¯esæ ¹ç›®å½•ä¸‹çš„pluginsæ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line">bootstrap.mlockall: <span class="literal">true</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸ºtrueæ¥é”ä½å†…å­˜ã€‚å› ä¸ºå½“jvmå¼€å§‹swappingæ—¶esçš„æ•ˆç‡ä¼šé™ä½ï¼Œæ‰€ä»¥è¦ä¿è¯å®ƒä¸swapï¼Œå¯ä»¥æŠŠES_MIN_MEMå’ŒES_MAX_MEMä¸¤ä¸ªç¯å¢ƒå˜é‡è®¾ç½®æˆåŒä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”ä¿è¯æœºå™¨æœ‰è¶³å¤Ÿçš„å†…å­˜åˆ†é…ç»™esã€‚åŒæ—¶ä¹Ÿè¦å…è®¸elasticsearchçš„è¿›ç¨‹å¯ä»¥é”ä½å†…å­˜ï¼Œlinuxä¸‹å¯ä»¥é€šè¿‡`ulimit-l unlimited`å‘½ä»¤ã€‚</span></span><br><span class="line"></span><br><span class="line">network.bind_host: <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="comment">#è®¾ç½®ç»‘å®šçš„ipåœ°å€ï¼Œå¯ä»¥æ˜¯ipv4æˆ–ipv6çš„ï¼Œé»˜è®¤ä¸º0.0.0.0ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">network.publish_host: <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="comment">#è®¾ç½®å…¶å®ƒèŠ‚ç‚¹å’Œè¯¥èŠ‚ç‚¹äº¤äº’çš„ipåœ°å€ï¼Œå¦‚æœä¸è®¾ç½®å®ƒä¼šè‡ªåŠ¨åˆ¤æ–­ï¼Œå€¼å¿…é¡»æ˜¯ä¸ªçœŸå®çš„ipåœ°å€ã€‚</span></span><br><span class="line"></span><br><span class="line">network.host: <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="comment">#è¿™ä¸ªå‚æ•°æ˜¯ç”¨æ¥åŒæ—¶è®¾ç½®bind_hostå’Œpublish_hostä¸Šé¢ä¸¤ä¸ªå‚æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line">transport.tcp.port: <span class="number">9300</span></span><br><span class="line"><span class="comment">#è®¾ç½®èŠ‚ç‚¹é—´äº¤äº’çš„tcpç«¯å£ï¼Œé»˜è®¤æ˜¯9300ã€‚</span></span><br><span class="line"></span><br><span class="line">transport.tcp.compress: <span class="literal">true</span></span><br><span class="line"><span class="comment">#è®¾ç½®æ˜¯å¦å‹ç¼©tcpä¼ è¾“æ—¶çš„æ•°æ®ï¼Œé»˜è®¤ä¸ºfalseï¼Œä¸å‹ç¼©ã€‚</span></span><br><span class="line"></span><br><span class="line">http.port: <span class="number">9200</span></span><br><span class="line"><span class="comment">#è®¾ç½®å¯¹å¤–æœåŠ¡çš„httpç«¯å£ï¼Œé»˜è®¤ä¸º9200ã€‚</span></span><br><span class="line"></span><br><span class="line">http.max_content_length: <span class="number">100</span>mb</span><br><span class="line"><span class="comment">#è®¾ç½®å†…å®¹çš„æœ€å¤§å®¹é‡ï¼Œé»˜è®¤100mb</span></span><br><span class="line"></span><br><span class="line">http.enabled: <span class="literal">false</span></span><br><span class="line"><span class="comment">#æ˜¯å¦ä½¿ç”¨httpåè®®å¯¹å¤–æä¾›æœåŠ¡ï¼Œé»˜è®¤ä¸ºtrueï¼Œå¼€å¯ã€‚</span></span><br><span class="line"></span><br><span class="line">gateway.type: local</span><br><span class="line"><span class="comment">#gatewayçš„ç±»å‹ï¼Œé»˜è®¤ä¸ºlocalå³ä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥è®¾ç½®ä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œhadoopçš„HDFSï¼Œå’Œamazonçš„s3æœåŠ¡å™¨ï¼Œå…¶å®ƒæ–‡ä»¶ç³»ç»Ÿçš„è®¾ç½®æ–¹æ³•ä¸‹æ¬¡å†è¯¦ç»†è¯´ã€‚</span></span><br><span class="line"></span><br><span class="line">gateway.recover_after_nodes: <span class="number">1</span></span><br><span class="line"><span class="comment">#è®¾ç½®é›†ç¾¤ä¸­Nä¸ªèŠ‚ç‚¹å¯åŠ¨æ—¶è¿›è¡Œæ•°æ®æ¢å¤ï¼Œé»˜è®¤ä¸º1ã€‚</span></span><br><span class="line"></span><br><span class="line">gateway.recover_after_time: <span class="number">5</span>m</span><br><span class="line"><span class="comment">#è®¾ç½®åˆå§‹åŒ–æ•°æ®æ¢å¤è¿›ç¨‹çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯5åˆ†é’Ÿã€‚</span></span><br><span class="line"></span><br><span class="line">gateway.expected_nodes: <span class="number">2</span></span><br><span class="line"><span class="comment">#è®¾ç½®è¿™ä¸ªé›†ç¾¤ä¸­èŠ‚ç‚¹çš„æ•°é‡ï¼Œé»˜è®¤ä¸º2ï¼Œä¸€æ—¦è¿™Nä¸ªèŠ‚ç‚¹å¯åŠ¨ï¼Œå°±ä¼šç«‹å³è¿›è¡Œæ•°æ®æ¢å¤ã€‚</span></span><br><span class="line"></span><br><span class="line">cluster.routing.allocation.node_initial_primaries_recoveries: <span class="number">4</span></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–æ•°æ®æ¢å¤æ—¶ï¼Œå¹¶å‘æ¢å¤çº¿ç¨‹çš„ä¸ªæ•°ï¼Œé»˜è®¤ä¸º4ã€‚</span></span><br><span class="line"></span><br><span class="line">cluster.routing.allocation.node_concurrent_recoveries: <span class="number">2</span></span><br><span class="line"><span class="comment">#æ·»åŠ åˆ é™¤èŠ‚ç‚¹æˆ–è´Ÿè½½å‡è¡¡æ—¶å¹¶å‘æ¢å¤çº¿ç¨‹çš„ä¸ªæ•°ï¼Œé»˜è®¤ä¸º4ã€‚</span></span><br><span class="line"></span><br><span class="line">indices.recovery.max_size_per_sec: <span class="number">0</span></span><br><span class="line"><span class="comment">#è®¾ç½®æ•°æ®æ¢å¤æ—¶é™åˆ¶çš„å¸¦å®½ï¼Œå¦‚å…¥100mbï¼Œé»˜è®¤ä¸º0ï¼Œå³æ— é™åˆ¶ã€‚</span></span><br><span class="line"></span><br><span class="line">indices.recovery.concurrent_streams: <span class="number">5</span></span><br><span class="line"><span class="comment">#è®¾ç½®è¿™ä¸ªå‚æ•°æ¥é™åˆ¶ä»å…¶å®ƒåˆ†ç‰‡æ¢å¤æ•°æ®æ—¶æœ€å¤§åŒæ—¶æ‰“å¼€å¹¶å‘æµçš„ä¸ªæ•°ï¼Œé»˜è®¤ä¸º5ã€‚</span></span><br><span class="line"></span><br><span class="line">discovery.zen.minimum_master_nodes: <span class="number">1</span></span><br><span class="line"><span class="comment">#è®¾ç½®è¿™ä¸ªå‚æ•°æ¥ä¿è¯é›†ç¾¤ä¸­çš„èŠ‚ç‚¹å¯ä»¥çŸ¥é“å…¶å®ƒNä¸ªæœ‰masterèµ„æ ¼çš„èŠ‚ç‚¹ã€‚é»˜è®¤ä¸º1ï¼Œå¯¹äºå¤§çš„é›†ç¾¤æ¥è¯´ï¼Œå¯ä»¥è®¾ç½®å¤§ä¸€ç‚¹çš„å€¼ï¼ˆ2-4ï¼‰</span></span><br><span class="line"></span><br><span class="line">discovery.zen.ping.timeout:  <span class="number">3</span>s</span><br><span class="line"><span class="comment">#è®¾ç½®é›†ç¾¤ä¸­è‡ªåŠ¨å‘ç°å…¶å®ƒèŠ‚ç‚¹æ—¶pingè¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º3ç§’ï¼Œå¯¹äºæ¯”è¾ƒå·®çš„ç½‘ç»œç¯å¢ƒå¯ä»¥é«˜ç‚¹çš„å€¼æ¥é˜²æ­¢è‡ªåŠ¨å‘ç°æ—¶å‡ºé”™ã€‚</span></span><br><span class="line"></span><br><span class="line">discovery.zen.ping.multicast.enabled:  <span class="literal">false</span></span><br><span class="line"><span class="comment">#è®¾ç½®æ˜¯å¦æ‰“å¼€å¤šæ’­å‘ç°èŠ‚ç‚¹ï¼Œé»˜è®¤æ˜¯trueã€‚</span></span><br><span class="line"></span><br><span class="line">discovery.zen.ping.unicast.hosts:  [<span class="string">"host1"</span>, <span class="string">"host2: port"</span>,<span class="string">"host3[portX-portY]"</span>]</span><br><span class="line"><span class="comment">#è®¾ç½®é›†ç¾¤ä¸­masterèŠ‚ç‚¹çš„åˆå§‹åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡è¿™äº›èŠ‚ç‚¹æ¥è‡ªåŠ¨å‘ç°æ–°åŠ å…¥é›†ç¾¤çš„èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure>
<h3 id="é›†ç¾¤æ­å»º"><a href="#é›†ç¾¤æ­å»º" class="headerlink" title="é›†ç¾¤æ­å»º"></a>é›†ç¾¤æ­å»º</h3><ul>
<li><p>es1</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cluster.name: sccES</span><br><span class="line">node.name: <span class="string">"es01"</span></span><br><span class="line">node.master: <span class="literal">true</span></span><br><span class="line">node.data: <span class="literal">true</span></span><br><span class="line">bootstrap.mlockall: <span class="literal">true</span></span><br><span class="line">network.host: <span class="number">192.168</span><span class="number">.1</span><span class="number">.106</span></span><br><span class="line">network.publish_host: <span class="number">192.168</span><span class="number">.1</span><span class="number">.106</span></span><br><span class="line">discovery.zen.ping.unicast.hosts: [<span class="string">"192.168.1.108"</span>]   <span class="comment"># å¦‚æœæ²¡æœ‰é…ç½®æ­¤é¡¹ï¼ŒèŠ‚ç‚¹å°†æ— æ³•åŠ å…¥åˆ°master</span></span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
<li><p>es2</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cluster.name: sccES</span><br><span class="line">node.name: <span class="string">"es02"</span></span><br><span class="line">node.master: <span class="literal">false</span></span><br><span class="line">bootstrap.mlockall: <span class="literal">true</span></span><br><span class="line">network.host: <span class="number">192.168</span><span class="number">.1</span><span class="number">.108</span></span><br><span class="line">network.publish_host: <span class="number">192.168</span><span class="number">.1</span><span class="number">.108</span></span><br><span class="line">discovery.zen.ping.unicast.hosts: [<span class="string">"192.168.1.106"</span>]  <span class="comment"># å¦‚æœæ²¡æœ‰é…ç½®æ­¤é¡¹ï¼ŒèŠ‚ç‚¹å°†æ— æ³•åŠ å…¥åˆ°master</span></span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><ul>
<li>å¤åˆæŸ¥è¯¢</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"query"</span>:&#123;</span><br><span class="line">        <span class="attr">"filtered"</span>:&#123;</span><br><span class="line">            <span class="attr">"filter"</span>:&#123;</span><br><span class="line">                 <span class="attr">"range"</span>:&#123;</span><br><span class="line">                    <span class="attr">"age"</span>:&#123;<span class="attr">"gt"</span>:<span class="number">25</span>&#125; /*æ¡ä»¶<span class="number">1</span>ï¼šå¹´é¾„å¤§äº<span class="number">25</span>*/</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"query"</span>:&#123;</span><br><span class="line">                <span class="attr">"match"</span>:&#123;</span><br><span class="line">                    <span class="attr">"last_name"</span>:<span class="string">"Chen"</span> /*æ¡ä»¶<span class="number">2</span>*/</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å…¨æ–‡æœç´¢</p>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchæ ¹æ®ç»“æœç›¸å…³æ€§è¯„åˆ†æ¥å¯¹ç»“æœé›†è¿›è¡Œæ’åºï¼Œæ‰€è°“çš„ã€Œç»“æœç›¸å…³æ€§è¯„åˆ†ã€å°±æ˜¯æ–‡æ¡£ä¸æŸ¥è¯¢æ¡ä»¶çš„åŒ¹é…ç¨‹åº¦</p>
</blockquote>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"query"</span>:&#123;</span><br><span class="line">    	<span class="attr">"match"</span>:&#123;</span><br><span class="line">      		<span class="attr">"abount"</span>: <span class="string">"coding php"</span></span><br><span class="line">    	&#125;</span><br><span class="line">	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çŸ­è¯­æœç´¢</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "query":&#123;</span><br><span class="line">      	"match_phrase":&#123;"about":"coding php"&#125;</span><br><span class="line">  	&#125;,</span><br><span class="line">     "highlight":&#123;/*é«˜äº®æ˜¾ç¤ºï¼Œç”¨&lt;em&gt;&lt;/em&gt;åŒ…è£¹*/</span><br><span class="line">          "fields":&#123;</span><br><span class="line">              "about":&#123;&#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>èšåˆ(group by)</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">/*ç»Ÿè®¡Liçš„æ‰€æœ‰å…´è¶£*/</span><br><span class="line">&#123;</span><br><span class="line">    "query":&#123;</span><br><span class="line">        "match":&#123;</span><br><span class="line">            "last_name":"Li"</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    "aggs":&#123;</span><br><span class="line">        "all_interests":&#123;</span><br><span class="line">            "terms":&#123;"field":"interests"&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">/*ç»Ÿè®¡æ¯ç§å…´è¶£ä¸‹èŒå‘˜çš„å¹³å‡å¹´é¾„*/</span><br><span class="line">&#123;</span><br><span class="line">    "aggs":&#123;</span><br><span class="line">        "all_interests":&#123;</span><br><span class="line">            "terms":&#123;"field":"interests"&#125;,</span><br><span class="line">            "aggs":&#123;</span><br><span class="line">                "avg_age":&#123;</span><br><span class="line">                    "avg":&#123;"field":"age"&#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ul>
<li><a href="http://es.xiaoleilu.com/index.html" target="_blank" rel="external">Elasticsearch æƒå¨æŒ‡å—ï¼ˆä¸­æ–‡ç‰ˆï¼‰</a></li>
<li><a href="https://www.gitbook.com/book/endymecy/elasticsearch-guide-chinese/details" target="_blank" rel="external">elasticsearchä¸­æ–‡æŒ‡å—</a></li>
<li><a href="https://www.gitbook.com/book/pengqiuyuan/elkbook/details" target="_blank" rel="external">æ—¥å¿—æ”¶é›†ä¸åˆ†æéƒ¨ç½²</a></li>
<li><a href="http://www.cnblogs.com/wgp13x/p/4859680.html" target="_blank" rel="external">æˆ‘çš„ElasticSearché›†ç¾¤éƒ¨ç½²æ€»ç»“â€“å¤§æ•°æ®æœç´¢å¼•æ“ä½ ä¸å¾—ä¸çŸ¥</a></li>
<li><a href="http://my.oschina.net/shyloveliyi/blog/653751" target="_blank" rel="external">elasticsearch2.3.1 é›†ç¾¤å®‰è£…</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/19/MySQLä¸»ä»ï¼ä»åº“å¼€å¯iptablsæ— æ³•åŒæ­¥/" itemprop="url">
                  MySQLä¸»ä»ï¼ä»åº“å¼€å¯iptablsæ— æ³•åŒæ­¥
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-19T22:38:43+08:00" content="2016-05-19">
              2016-05-19
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¸‹ç­çš„æ—¶å€™æ£€æŸ¥æ•°æ®åº“ä»æœåŠ¡å™¨å‘ç°æ²¡æœ‰è¿è¡ŒiptablesæœåŠ¡ï¼Œäºæ˜¯é…ç½®äº†æœ‰ç”¨åˆ°çš„ç«¯å£åå¼€å¯äº†iptablesã€‚<br>åˆ°å®¶åæœ‰å®¢æœäººå‘˜ååº”æœ‰è®¢å•æŸ¥ä¸åˆ°ï¼Œç¬¬ä¸€ååº”æ˜¯ä¸»ä»åŒæ­¥æ˜¯å¤±è´¥äº†ï¼Œç«‹å³å¼€æœºæ£€æŸ¥ã€‚<br><code>show slave status</code>,å‘ç°æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥æƒ³åˆ°äº†iptablesï¼Œè¯•ç€æŠŠiptableå…³äº†ï¼Œè¿‡äº†ä¸€ä¼šæ•°æ®åˆåŒæ­¥äº†ã€‚<br>å®šä½åˆ°é—®é¢˜çš„æ‰€åœ¨ï¼Œå°±å®¹æ˜“è§£å†³äº†ï¼š<br>é…ç½®iptablesï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/sysconfig/iptables</span><br><span class="line">-A OUTPUT -p tcp -m tcp --dport 3306 -j ACCEPT</span><br></pre></td></tr></table></figure>
<p>é‡å¯iptablesæœåŠ¡åæ­£å¸¸ã€‚</p>
<p>å‚è€ƒï¼š<br><a href="http://www.cnblogs.com/JemBai/archive/2009/03/19/1416364.html" target="_blank" rel="external">linuxä¸‹IPTABLESé…ç½®è¯¦è§£</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/ä½¿ç”¨supervisorå¯åŠ¨redisæœåŠ¡/" itemprop="url">
                  ä½¿ç”¨supervisorå¯åŠ¨redisæœåŠ¡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-08T11:19:51+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h2><p>åœ¨æœåŠ¡å™¨æ²¡æœ‰ä¼˜åŒ–å‰ï¼ŒWebæœåŠ¡å’ŒRedisæœåŠ¡æ˜¯åŒä¸€å°æœåŠ¡å™¨ï¼Œæœ‰ä¸€æ¬¡ç³»ç»Ÿé‡åˆ°å¼‚å¸¸ï¼Œå¯¼è‡´Redisè¿›ç¨‹è¢«å¹²æ‰äº†ã€‚<br>å› ä¸ºSessionæ˜¯ç”¨Rediså­˜å‚¨çš„ï¼Œç»“æœå¯¼è‡´ç½‘ç«™æ— æ³•ç™»å½•ã€‚ï¼ˆåæ¥æŸ¥äº†/var/log/message,å‘ç°æ˜¯å†…å­˜ä¸å¤Ÿï¼Œç³»ç»Ÿè‡ªåŠ¨æ€æ­»äº†è€—å†…å­˜çš„è¿›ç¨‹ï¼Œè¿crontabæœåŠ¡ä¹Ÿæ­»äº†ğŸ˜¢ã€‚<br>ä¼˜åŒ–çš„æ–¹æ¡ˆæ˜¯æŠŠRedisæœåŠ¡ç‹¬ç«‹ä¸€å°æœåŠ¡å™¨ï¼Œè€Œä¸”åšäº†ä¸»ä»ã€‚ä¹‹åæœåŠ¡ç¨³å®šè¿è¡Œã€‚<br>ä¸å¤Ÿä¸€ç›´ä¸è§£çš„é—®é¢˜æ˜¯ï¼ŒRedisé…ç½®çš„å†…å­˜æ˜¯512Mï¼Œä¸åº”è¯¥å†…å­˜ä¸å¤Ÿç”¨çš„ï¼ŒWebæœåŠ¡ç”¨çš„å†…å­˜ä¹Ÿä¸å¤šï¼Œæ— è§£ã€‚</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul>
<li><p>å®‰è£…supervisor</p>
<ul>
<li><code>yum install python-setuptools</code></li>
<li><code>easy_install supervisor</code></li>
<li><code>supervisord -c /etc/supervisord.conf</code></li>
<li><code>vim /etc/supervisord.conf</code>ï¼Œé…ç½®è¯»å–çš„é…ç½®æ–‡ä»¶ä½ç½®<code>[include]</code>ï¼Œä¿®æ”¹ï¼š<code>files = /etc/supervisord/*.conf</code></li>
</ul>
</li>
<li><p>æ·»åŠ Redisé…ç½®</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[program:redis]</span><br><span class="line">command = /opt/redis-3.0.7/src/redis-server  /opt/redis-3.0.7/redis-6679.conf</span><br><span class="line">autostart=true</span><br><span class="line">autorestart=true</span><br><span class="line">startsecs=3</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å¦‚æœæŠ¥é”™å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gave up: redis entered FATAL state, too many start retries too quickly</span><br><span class="line">ä¿®æ”¹redis.confçš„daemonizeä¸ºno</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨<code>supervisord -c /etc/supervisord.conf</code></p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/05/24/2014-05-24/" itemprop="url">
                  Javascript æ­£åˆ™æ¨¡æ¿æ›¿æ¢ä»£ç 
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-05-24T20:31:43+08:00" content="2014-05-24">
              2014-05-24
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">str,data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">        .replace(<span class="regexp">/&#123;(.*?)&#125;/igm</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$,$1</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> data[$<span class="number">1</span>]?data[$<span class="number">1</span>]:$;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> json=[</span><br><span class="line">    &#123;</span><br><span class="line">        name:<span class="string">"Jim"</span>,</span><br><span class="line">        blog:<span class="string">"jim.com"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name:<span class="string">"Tom"</span>,</span><br><span class="line">        blog:<span class="string">"tom.com"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name:<span class="string">"Sam"</span>,</span><br><span class="line">        blog:<span class="string">"saam.com"</span></span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tpl=<span class="string">'&#123;name&#125; (blog: &#123;blog&#125;)'</span>,</span><br><span class="line">    html = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;json.length;i++) &#123;</span><br><span class="line">    html += sub(tpl,json[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(html);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/05/20/2014-05-20/" itemprop="url">
                  å‡½æ•°-PHPä¸‹è½½æ–‡ä»¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-05-20T12:38:43+08:00" content="2014-05-20">
              2014-05-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dl_file</span><span class="params">($file)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//First, see if the file exists</span></span><br><span class="line">   <span class="keyword">if</span> (!is_file($file)) &#123; <span class="keyword">die</span>(<span class="string">"&lt;b&gt;404 File not found!&lt;/b&gt;"</span>); &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Gather relevent info about file</span></span><br><span class="line">   $len = filesize($file);</span><br><span class="line">   $filename = basename($file);</span><br><span class="line">   $file_extension = strtolower(substr(strrchr($filename,<span class="string">"."</span>),<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">   <span class="comment">//This will set the Content-Type to the appropriate setting for the file</span></span><br><span class="line">  <span class="keyword">switch</span>( $file_extension ) &#123;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"pdf"</span>: $ctype=<span class="string">"application/pdf"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"exe"</span>: $ctype=<span class="string">"application/octet-stream"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"zip"</span>: $ctype=<span class="string">"application/zip"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"doc"</span>: $ctype=<span class="string">"application/msword"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"xls"</span>: $ctype=<span class="string">"application/vnd.ms-excel"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"ppt"</span>: $ctype=<span class="string">"application/vnd.ms-powerpoint"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"gif"</span>: $ctype=<span class="string">"image/gif"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"png"</span>: $ctype=<span class="string">"image/png"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"jpeg"</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"jpg"</span>: $ctype=<span class="string">"image/jpg"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"mp3"</span>: $ctype=<span class="string">"audio/mpeg"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"wav"</span>: $ctype=<span class="string">"audio/x-wav"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"mpeg"</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"mpg"</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"mpe"</span>: $ctype=<span class="string">"video/mpeg"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"mov"</span>: $ctype=<span class="string">"video/quicktime"</span>; <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"avi"</span>: $ctype=<span class="string">"video/x-msvideo"</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//The following are for extensions that shouldn't be downloaded (sensitive stuff, like php files)</span></span><br><span class="line">     <span class="keyword">case</span> <span class="string">"php"</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"htm"</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"html"</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="string">"txt"</span>: <span class="keyword">die</span>(<span class="string">"&lt;b&gt;Cannot be used for "</span>. $file_extension .<span class="string">" files!&lt;/b&gt;"</span>); <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">default</span>: $ctype=<span class="string">"application/force-download"</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Begin writing headers</span></span><br><span class="line">   header(<span class="string">"Pragma: public"</span>);</span><br><span class="line">   header(<span class="string">"Expires: 0"</span>);</span><br><span class="line">   header(<span class="string">"Cache-Control: must-revalidate, post-check=0, pre-check=0"</span>);</span><br><span class="line">   header(<span class="string">"Cache-Control: public"</span>);</span><br><span class="line">   header(<span class="string">"Content-Description: File Transfer"</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Use the switch-generated Content-Type</span></span><br><span class="line">   header(<span class="string">"Content-Type: $ctype"</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Force the download</span></span><br><span class="line">   $header=<span class="string">"Content-Disposition: attachment; filename="</span>.$filename.<span class="string">";"</span>;</span><br><span class="line">   header($header );</span><br><span class="line">   header(<span class="string">"Content-Transfer-Encoding: binary"</span>);</span><br><span class="line">   header(<span class="string">"Content-Length: "</span>.$len);</span><br><span class="line">   @readfile($file);</span><br><span class="line">   <span class="keyword">exit</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/05/19/2014-05-19/" itemprop="url">
                  è§£å†³Nginx+PHPç¯å¢ƒæ— æ³•æŠ¥é”™çš„é—®é¢˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-05-19T21:38:43+08:00" content="2014-05-19">
              2014-05-19
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>æ ¹æ®phpinfo()å‡½æ•°ä¸­çš„ä¿¡æ¯æŸ¥æ‰¾php.iniçš„ä½ç½®ï¼›</li>
<li>æŸ¥æ‰¾ <figure class="highlight plain"><figcaption><span>ä¿®æ”¹ä¸º'On';</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3. æŸ¥æ‰¾ ```error_reporting```,å°†å€¼è®¾ç½®ä¸º&apos;E_ALL&amp;~E_NOTICE&apos;;</span><br><span class="line">4. é‡å¯php-fpmæœåŠ¡ã€‚</span><br><span class="line"></span><br><span class="line">é™„ï¼šNginxä¸‹é…ç½®slim framworkçš„ä¼ªé™æ€ï¼Œ</span><br></pre></td></tr></table></figure></li>
</ol>
<p>location / {<br>  try_files $uri $uri/ /index.php?$request_uri;<br>}<br>```</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/02/21/æŸ¥çœ‹ MySQL æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨å ç”¨çš„ç©ºé—´å¤§å°/" itemprop="url">
                  æŸ¥çœ‹ MySQL æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨å ç”¨çš„ç©ºé—´å¤§å°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-02-21T20:49:00+08:00" content="2014-02-21">
              2014-02-21
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‡ºå¤„ï¼š<a href="http://www.oschina.net/question/12_3673" target="_blank" rel="external">http://www.oschina.net/question/12_3673</a></p>
<blockquote>
<p>å¦‚æœæƒ³çŸ¥é“MySQLæ•°æ®åº“ä¸­æ¯ä¸ªè¡¨å ç”¨çš„ç©ºé—´ã€è¡¨è®°å½•çš„è¡Œæ•°çš„è¯ï¼Œå¯ä»¥æ‰“å¼€MySQLçš„ information_schema æ•°æ®åº“ã€‚åœ¨è¯¥åº“ä¸­æœ‰ä¸€ä¸ª TABLES è¡¨ï¼Œè¿™ä¸ªè¡¨ä¸»è¦å­—æ®µåˆ†åˆ«æ˜¯ï¼š<br>TABLE_SCHEMA : æ•°æ®åº“å<br>TABLE_NAMEï¼šè¡¨å<br>ENGINEï¼šæ‰€ä½¿ç”¨çš„å­˜å‚¨å¼•æ“<br>TABLES_ROWSï¼šè®°å½•æ•°<br>DATA_LENGTHï¼šæ•°æ®å¤§å°<br>INDEX_LENGTHï¼šç´¢å¼•å¤§å°<br>å…¶ä»–å­—æ®µè¯·å‚è€ƒMySQLçš„æ‰‹å†Œï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£è¿™å‡ ä¸ªå°±è¶³å¤Ÿäº†ã€‚<br>æ‰€ä»¥è¦çŸ¥é“ä¸€ä¸ªè¡¨å ç”¨ç©ºé—´çš„å¤§å°ï¼Œé‚£å°±ç›¸å½“äºæ˜¯ æ•°æ®å¤§å° + ç´¢å¼•å¤§å° å³å¯ã€‚<br>SQL:<br><code>SELECT TABLE_NAME,DATA_LENGTH+INDEX_LENGTH,TABLE_ROWS FROM TABLES WHERE TABLE_SCHEMA=&#39;æ•°æ®åº“å&#39; AND TABLE_NAME=&#39;è¡¨å&#39;</code></p>
</blockquote>
<ol>
<li><p>è¿›å»æŒ‡å®šschema æ•°æ®åº“ï¼ˆå­˜æ”¾äº†å…¶ä»–çš„æ•°æ®åº“çš„ä¿¡æ¯ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use information_schema;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥è¯¢æ‰€æœ‰æ•°æ®çš„å¤§å°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select concat(round(sum(DATA_LENGTH/1024/1024), 2), &apos;MB&apos;)</span><br><span class="line">    -&gt; as data from TABLES;</span><br><span class="line">+-----------+</span><br><span class="line">| data      |</span><br><span class="line">+-----------+</span><br><span class="line">| 6674.48MB |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (16.81 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹æŒ‡å®šæ•°æ®åº“çš„è¡¨çš„å¤§å°ï¼Œæ¯”å¦‚è¯´æ•°æ®åº“ forexpert ä¸­çš„ member è¡¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">select concat(round(sum(DATA_LENGTH/1024/1024), 2), &apos;MB&apos;)</span><br><span class="line">as data from TABLES where table_schema=&apos;forexpert&apos;;</span><br><span class="line">+--------+</span><br><span class="line">| data   |</span><br><span class="line">+--------+</span><br><span class="line">| 2.52MB |</span><br><span class="line">+--------+</span><br><span class="line">1 row in set (1.88 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹æŒ‡å®šæ•°æ®åº“å®ä¾‹çš„å¤§å°ï¼Œæ¯”å¦‚è¯´æ•°æ®åº“ forexpert</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select concat(round(sum(DATA_LENGTH/1024/1024), 2), &apos;MB&apos;)</span><br><span class="line">    -&gt; as data from TABLES where table_schema=&apos;forexpert&apos;;</span><br><span class="line">+-----------+</span><br><span class="line">| data      |</span><br><span class="line">+-----------+</span><br><span class="line">| 6542.30MB |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (7.47 sec)</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/02/20/ã€Šé«˜æ€§èƒ½MySQLã€‹è¯»ä¹¦ç¬”è®°â€”â€”Schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–/" itemprop="url">
                  ã€Šé«˜æ€§èƒ½MySQLã€‹è¯»ä¹¦ç¬”è®°â€”â€”Schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-02-20T20:29:00+08:00" content="2014-02-20">
              2014-02-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹"><a href="#é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹" class="headerlink" title="é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹"></a>é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹</h3><ul>
<li>æ›´å°çš„é€šå¸¸æ›´å¥½ï¼š<ul>
<li>æ›´å°çš„æ•°æ®ç±»å‹é€šå¸¸æ›´å¿«ï¼Œå› ä¸ºå®ƒä»¬å ç”¨æ›´å¥½çš„ç£ç›˜ã€å†…å­˜å’Œcpuç¼“å­˜ï¼Œå¹¶ä¸”å¤„ç†æ—¶éœ€è¦çš„cpuå‘¨æœŸæ›´å°‘ã€‚</li>
<li><strong>ä½†æ˜¯è¦ç¡®ä¿æ²¡æœ‰ä½ä¼°éœ€è¦å­˜å‚¨çš„å€¼çš„èŒƒå›´ï¼›å¦‚æœæ— æ³•ç¡®å®šå“ªä¸ªæ•°æ®ç±»å‹æ˜¯æœ€å¥½çš„ï¼Œå°±é€‰æ‹©è‡ªå·±è®¤ä¸ºä¸ä¼šè¶…è¿‡èŒƒå›´çš„æœ€å°ç±»å‹ã€‚</strong></li>
</ul>
</li>
<li>ç®€å•å°±å¥½ï¼š<ul>
<li>ç®€å•çš„æ•°æ®ç±»å‹çš„æ“ä½œé€šå¸¸éœ€è¦æ›´å°‘çš„cpuå‘¨æœŸã€‚</li>
<li>eg:æ•´å‹ VS å­—ç¬¦å‹ï¼Œåº”è¯¥ä½¿ç”¨MySQLå†…å»ºçš„ç±»å‹å­˜å‚¨æ—¶é—´å’Œæ—¥æœŸè€Œä¸æ˜¯ç”¨å­—ç¬¦ä¸²ï¼Œåº”è¯¥ä½¿ç”¨æ•´å‹å­˜å‚¨IPåœ°å€ã€‚</li>
</ul>
</li>
<li>å°½é‡é¿å…NULLï¼š<ul>
<li>å¦‚æœæŸ¥è¯¢ä¸­åŒ…å«å¯ä¸ºNULLçš„åˆ—ï¼Œå¯ä¸ºNULLçš„åˆ—ä½¿å¾—ç´¢å¼•ã€ç´¢å¼•ç»Ÿè®¡çš„å€¼æ¯”è¾ƒéƒ½è·Ÿå¤æ‚ï¼›</li>
<li>å¯ä¸ºNULLçš„åˆ—ä¼šä½¿ç”¨æ›´å¤šçš„å­˜å‚¨ç©ºé—´ï¼›</li>
<li>é€šå¸¸æŠŠå¯ä¸ºNULLçš„åˆ—æ”¹ä¸ºNOT NULLå¸¦æ¥çš„æ€§èƒ½æå‡æ¯”è¾ƒå°ï¼›</li>
<li>ä½†æ˜¯å¦‚æœè®¡åˆ’åœ¨åˆ—ä¸Šå»ºç´¢å¼•ï¼Œå°±åº”è¯¥å°½é‡é¿å…è®¾è®¡æˆå¯ä¸ºNULLçš„åˆ—ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é€‰æ‹©æ•°æ®ç±»å‹"><a href="#é€‰æ‹©æ•°æ®ç±»å‹" class="headerlink" title="é€‰æ‹©æ•°æ®ç±»å‹"></a>é€‰æ‹©æ•°æ®ç±»å‹</h3><blockquote>
<p>DATATIMEå’ŒTIMESTAMP:<br><br>DATETIMEå’ŒTIMESTAMPéƒ½å¯ä»¥å­˜å‚¨ç›¸åŒç±»å‹çš„æ•°æ®ï¼Œç„¶è€ŒTIMESTAMPåªä½¿ç”¨DATETIMEä¸€åŠçš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”ä¼šæ ¹æ®æ—¶åŒºå˜åŒ–ï¼Œå…·æœ‰ç‰¹æ®Šçš„è‡ªåŠ¨æ›´æ–°èƒ½åŠ›ã€‚å¦ä¸€æ–¹é¢ï¼ŒTIMESTAMPå…è®¸çš„æ—¶é—´èŒƒå›´è¦å°çš„å¤šã€‚</p>
</blockquote>
<h3 id="æ•´æ•°ç±»å‹"><a href="#æ•´æ•°ç±»å‹" class="headerlink" title="æ•´æ•°ç±»å‹"></a>æ•´æ•°ç±»å‹</h3><ul>
<li>TINYINT,SMALLINT,MEDIUMINT,INT,BIGINTï¼Œåˆ†åˆ«ä½¿ç”¨8,16,24,32,64ä½å­˜å‚¨ç©ºé—´ï¼Œå®ƒä»¬å¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ä»pow(-2,N-1)åˆ°pow(2,(N-1)-1),å…¶ä¸­Næ˜¯å­˜å‚¨ç©ºé—´çš„ä½æ•°ï¼Œpow()ä¸ºPHPä¸­çš„æŒ‡æ•°è¡¨è¾¾å¼ã€‚</li>
<li>æ•´æ•°ç±»å‹æœ‰å¯é€‰çš„UNSIGNEDå±æ€§ï¼Œè¡¨ç¤ºä¸å…è®¸è´Ÿå€¼ï¼Œè¿™å¤§è‡´å¯ä»¥ä½¿æ•´æ•°çš„ä¸Šçº¿æé«˜ä¸€å€ã€‚eg:TINYINT UNSIGENDå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´æ˜¯0~255ï¼Œè€Œä¸åŠ UNSIGNEDçš„èŒƒå›´æ˜¯-128~127ã€‚</li>
<li>MySQLå¯ä»¥ä¸ºæ•´æ•°ç±»å‹æŒ‡å®šå®½åº¦ï¼Œä¾‹å¦‚INT(11)ï¼Œå¯¹å¤§å¤šæ•°åº”ç”¨è¿™æ˜¯<strong>æ²¡æœ‰æ„ä¹‰çš„</strong>ï¼šä»–ä¸ä¼šé™åˆ¶å€¼çš„èŒƒå›´ï¼Œåªæ˜¯è§„å®šäº†MySQLçš„ä¸€äº›äº¤äº’å·¥å…·ç”¨æ¥æ˜¾ç¤ºå­—ç¬¦çš„ä¸ªæ•°ã€‚<strong>å¯¹äºå­˜å‚¨å’Œè®¡ç®—æ¥è¯´ï¼ŒINT(1)å’ŒINT(20)æ˜¯ç›¸åŒçš„</strong>ã€‚</li>
</ul>
<h3 id="å®æ•°ç±»å‹"><a href="#å®æ•°ç±»å‹" class="headerlink" title="å®æ•°ç±»å‹"></a>å®æ•°ç±»å‹</h3><ul>
<li>å®æ•°æ˜¯å¸¦æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚MySQLæ”¯æŒç²¾ç¡®ç±»å‹ï¼Œä¹Ÿæ”¯æŒä¸ç²¾ç¡®ç±»å‹ã€‚</li>
<li><strong>FLOAT</strong> å’Œ <strong>DOUBLE</strong> ç±»å‹æ”¯æŒä½¿ç”¨æ ‡å‡†çš„æµ®ç‚¹è¿ç®—è¿›è¡Œè¿‘ä¼¼è®¡ç®—ã€‚</li>
<li><strong>DECIMAL</strong> ç±»å‹ç”¨äºå­˜å‚¨ç²¾ç¡®çš„å°æ•°ã€‚</li>
<li>æµ®ç‚¹å’ŒDECIMALéƒ½å¯ä»¥æŒ‡å®šç²¾åº¦ã€‚eg:DECIMAL(18,9)å°æ•°ç‚¹ä¸¤è¾¹å°†å„å­˜å‚¨9ä¸ªæ•°å­—ï¼Œä¸€å…±ä½¿ç”¨9ä¸ªå­—èŠ‚ï¼šå°æ•°ç‚¹å‰çš„æ•°å­—ç”¨4ä¸ªå­—èŠ‚ï¼Œå°æ•°ç‚¹åçš„ç”¨4ä¸ªå­—èŠ‚ï¼Œå°æ•°ç‚¹æœ¬èº«ä¸€ä¸ªå­—èŠ‚ã€‚</li>
</ul>
<p>###å­—ç¬¦ä¸²ç±»å‹</p>
<h5 id="VARCHAR"><a href="#VARCHAR" class="headerlink" title="VARCHAR"></a>VARCHAR</h5><ul>
<li>VARCHAR ç±»å‹ç”¨äºå­˜å‚¨å¯è¾¹é•¿å­—ç¬¦ä¸²ï¼Œæ¯”å®šé•¿ç±»å‹æ›´çœç©ºé—´å› ä¸ºå®ƒä»…ä½¿ç”¨å¿…è¦çš„ç©ºé—´ï¼ˆeg.è¶ŠçŸ­çš„å­—ç¬¦ä¸²ä½¿ç”¨è¶Šå°‘çš„ç©ºé—´ï¼‰ã€‚<strong>æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–</strong>ï¼Œå¦‚æœMySQLè¡¨ä½¿ç”¨ ROW_FORMAT=FIXED åˆ›å»ºçš„è¯ï¼Œæ²¡ä¸€è¡Œéƒ½ä¼šä½¿ç”¨å®šé•¿å­˜å‚¨ï¼Œè¿™å›å¾ˆæµªè´¹ç©ºé—´ã€‚<br></li>
<li><strong>VARCHARéœ€è¦ä½¿ç”¨1æˆ–2ä¸ªé¢å¤–çš„å­—èŠ‚è®°å½•å­—ç¬¦ä¸²çš„é•¿åº¦ï¼šå¦‚æœåˆ—çš„æœ€å¤§é•¿åº¦å°äºæˆ–ç­‰äº255å­—èŠ‚ï¼Œåˆ™åªä½¿ç”¨1ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå¦åˆ™ä½¿ç”¨2ä¸ªå­—èŠ‚ã€‚</strong></li>
<li>é€‚åˆä½¿ç”¨VARCHARçš„æƒ…å†µï¼š<ul>
<li>å­—ç¬¦ä¸²åˆ—çš„æœ€å¤§é•¿åº¦æ¯”å¹³å‡é•¿åº¦å¤§å¾ˆå¤šï¼›</li>
<li>åˆ—çš„æ›´æ–°å°‘ï¼Œæ‰€ä»¥ç¢ç‰‡ä¸æ˜¯é—®é¢˜ï¼›</li>
<li>ä½¿ç”¨äº†åƒUTF-8å¤æ‚çš„å­—ç¬¦é›†ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½ä½¿ç”¨ä¸åŒçš„å­—èŠ‚æ•°è¿›è¡Œå­˜å‚¨ã€‚</li>
</ul>
</li>
</ul>
<h5 id="CHAR"><a href="#CHAR" class="headerlink" title="CHAR"></a>CHAR</h5><ul>
<li>CHAR é€‚åˆå­˜å‚¨å¾ˆçŸ­çš„å­—ç¬¦ä¸²</li>
<li>å¯¹äºç»å¸¸å˜æ›´çš„æ•°æ®ï¼ŒCHARä¹Ÿæ¯”VARCHARæ›´å¥½ï¼Œå› ä¸ºè®¢å•çš„CHARç±»å‹ä¸å®¹æ˜“äº§ç”Ÿç¢ç‰‡ï¼›</li>
<li>å¯¹äºéå¸¸çŸ­çš„åˆ—ï¼ŒCHARæ¯”VARCHARåœ¨å­˜å‚¨ç©ºé—´ä¸Šä¹Ÿæ›´æœ‰æ•ˆç‡ã€‚</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/02/20/ã€Šé«˜æ€§èƒ½MySQLã€‹è¯»ä¹¦ç¬”è®°â€”â€”æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–/" itemprop="url">
                  ã€Šé«˜æ€§èƒ½MySQLã€‹è¯»ä¹¦ç¬”è®°â€”â€”æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-02-20T20:29:00+08:00" content="2014-02-20">
              2014-02-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä¼˜åŒ–COUNT-æŸ¥è¯¢"><a href="#ä¼˜åŒ–COUNT-æŸ¥è¯¢" class="headerlink" title="ä¼˜åŒ–COUNT() æŸ¥è¯¢"></a>ä¼˜åŒ–COUNT() æŸ¥è¯¢</h3><ul>
<li>åˆ—å€¼ç»Ÿè®¡æ—¶è¦æ±‚åˆ—å€¼æ˜¯éç©ºçš„ï¼ˆä¸ç»Ÿè®¡NULLï¼‰ã€‚å½“æ‹¬å·å†…æŒ‡å®šäº†åˆ—æˆ–è€…åˆ—çš„è¡¨è¾¾å¼ï¼Œåˆ™ç»Ÿè®¡çš„å°±æ˜¯è¿™ä¸ªè¡¨è¾¾å¼æœ‰å€¼çš„ç»“æœæ•°ã€‚</li>
<li>å½“MySQLç¡®è®¤æ‹¬å·å†…çš„è¡¨è¾¾å¼å€¼ä¸å¯èƒ½ä¸ºç©ºæ˜¯ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ç»Ÿè®¡è¡Œæ•°ã€‚â€”â€”COUNT(*)ã€‚</li>
<li>å¦‚æœå¸Œæœ›çŸ¥é“çš„æ˜¯ç»“æœé›†çš„è¡Œæ•°ï¼Œæœ€å¥½ä½¿ç”¨<strong>COUNT(*)</strong>ã€‚</li>
<li>å…³äºMyISAMçš„ç¥è¯<ul>
<li>åªæœ‰æ²¡æœ‰ä»»ä½•WHEREæ¡ä»¶çš„<strong>COUNT(*)</strong>æ‰éå¸¸å¿«ï¼Œå› ä¸ºæ­¤æ—¶æ— éœ€å®é™…åœ°å»è®¡ç®—è¡¨çš„è¡Œæ•°ã€‚</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><p>ä¼˜åŒ–å‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(\*) <span class="keyword">FROM</span> world.City <span class="keyword">WHERE</span> <span class="keyword">id</span>&gt;<span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¼˜åŒ–åï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> (<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(\*) <span class="keyword">FROM</span> world.City) - <span class="keyword">COUNT</span>(\*) <span class="keyword">FROM</span> world.City</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span>&lt;=<span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ä¼˜åŒ–å…³è”æŸ¥è¯¢"><a href="#ä¼˜åŒ–å…³è”æŸ¥è¯¢" class="headerlink" title="ä¼˜åŒ–å…³è”æŸ¥è¯¢"></a>ä¼˜åŒ–å…³è”æŸ¥è¯¢</h3><ol>
<li>ç¡®ä¿ONæˆ–è€…USINGå­—å¥ä¸­çš„åˆ—ä¸Šæœ‰ç´¢å¼•ã€‚</li>
<li>ç¡®ä¿ä»»ä½•çš„GROUP BY å’ŒORDER BY ä¸­çš„è¡¨è¾¾å¼åªæ¶‰åŠåˆ°ä¸€ä¸ªè¡¨ä¸­çš„åˆ—ï¼Œè¿™æ ·MySQLæ‰æœ‰å¯èƒ½ä½¿ç”¨ç´¢å¼•æ¥ä¼˜åŒ–è¿™ä¸ªè¿‡ç¨‹</li>
</ol>
<h3 id="ä¼˜åŒ–å­æŸ¥è¯¢"><a href="#ä¼˜åŒ–å­æŸ¥è¯¢" class="headerlink" title="ä¼˜åŒ–å­æŸ¥è¯¢"></a>ä¼˜åŒ–å­æŸ¥è¯¢</h3><p><strong>å°½å¯èƒ½</strong> çš„ä½¿ç”¨å…³è”æŸ¥è¯¢ä»£æ›¿ã€‚</p>
<p>###ä¼˜åŒ–GROUP BY å’ŒDISTINCT<br>é‡‡ç”¨æŸ¥æ‰¾è¡¨çš„æ ‡è¯†åˆ—åˆ†ç»„çš„æ•ˆç‡ä¼šæ¯”å…¶ä»–åˆ—æ›´é«˜ã€‚</p>
<p>###ä¼˜åŒ–LIMITåˆ†é¡µ</p>
<blockquote>
<p>åœ¨åç§»é‡éå¸¸å¤§çš„æ—¶å€™ï¼Œä¾‹å¦‚å¯èƒ½æ˜¯LIMIT 10000ï¼Œ20è¿™æ ·çš„æŸ¥è¯¢ï¼Œè¿™æ—¶MySQLéœ€è¦æŸ¥è¯¢10020æ¡è®°å½•ç„¶ååªè¿”å›20æ¡ï¼Œå‰é¢çš„10000æ¡éƒ½å°†è¢«æŠ›å¼ƒã€‚</p>
</blockquote>
<ul>
<li>è¦ä¼˜åŒ–è¿™ç§æŸ¥è¯¢ï¼Œè¦ä¹ˆæ˜¯åœ¨é¡µé¢ä¸­é™åˆ¶åˆ†é¡µçš„æ•°é‡ï¼Œè¦ä¹ˆæ˜¯ä¼˜åŒ–å¤§åç§»é‡çš„æ€§èƒ½ã€‚</li>
<li>ä¸€ä¸ªæœ€ç®€å•çš„åŠæ³•å°±æ˜¯å°½å¯èƒ½åœ°ä½¿ç”¨ç´¢å¼•è¦†ç›–æ‰«æï¼Œè€Œä¸æ˜¯æŸ¥è¯¢æ‰€æœ‰çš„åˆ—ã€‚ç„¶åæ ¹æ®éœ€è¦åšä¸€æ¬¡å…³è”æ“ä½œå†è¿”å›æ‰€éœ€çš„åˆ—ã€‚è€ƒè™‘ä¸‹é¢çš„æŸ¥è¯¢ï¼š<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT film_id, description FROM sakila.film ORDER BY title LIMIT 50,5;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å¦‚æœè¿™å¼ è¡¨éå¸¸å¤§ï¼Œé‚£ä¹ˆä¸‹é¢çš„è¯­å¥å°†å¤§å¤§æé«˜æ•ˆç‡ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT film_id, description FROM  sakila.film INNER JOIN (SELECT film_id FROM sakila.film ORDER BY title LIMIT 50,5) AS lim USING(film_id);</span><br></pre></td></tr></table></figure></p>
<ul>
<li>LIMITå’ŒOFFSETçš„é—®é¢˜ï¼Œå…¶å®æ˜¯OFFSETçš„é—®é¢˜ï¼Œå®ƒä¼šå¯¼è‡´MySQLæ‰«æå¤§é‡ä¸éœ€è¦çš„è¡Œç„¶åå†æŠ›å¼ƒæ‰ã€‚å¦‚æœå¯ä»¥ä½¿ç”¨ä¹¦ç­¾è®°å½•ä¸Šæ¬¡æ•°æ®çš„ä½ç½®ï¼Œé‚£ä¹ˆä¸‹æ¬¡å°±å¯ä»¥ç›´æ¥ä»è¯¥ä¹¦ç­¾è®°å½•çš„ä½ç½®å¼€å§‹æ‰«æï¼Œè¿™æ ·å¯ä»¥é¿å…ä½¿ç”¨OFFSETã€‚å¦‚ï¼š<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM sakila.rental ORDER BY rental_id DESC LIMIT 20;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å‡è®¾ä¸Šé¢æŸ¥è¯¢è¿”å›çš„ä¸»é”®ä¸º16049åˆ°16030ï¼Œé‚£ä¹ˆä¸‹ä¸€é¡µçš„æŸ¥è¯¢å°±å¯ä»¥ä»16030å¼€å§‹ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM sakila.rental WHERE rental_id&lt;16030 ORDER BY rental_id DESC LIMIT 20;</span><br></pre></td></tr></table></figure></p>
<h3 id="ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰å˜é‡"><a href="#ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰å˜é‡" class="headerlink" title="ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰å˜é‡"></a>ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰å˜é‡</h3><p>é¿å…é‡å¤æŸ¥è¯¢åˆšåˆšæ›´æ–°çš„æ•°æ®<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#bad sql</span><br><span class="line">mysql&gt; UPDATE t1 SET lastUpdate = NOW() WHERE id=1;</span><br><span class="line">mysql&gt; SELECT lastUpdate FROM t1  WHERE id=1</span><br><span class="line">#good sql</span><br><span class="line">mysql&gt; UPDATE t1 SET lastUpdate = NOW() WHERE id=1 AND @now := NOW();</span><br><span class="line">mysql&gt; SELECT @not;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/02/15/ä¼˜åŒ–MySQLåˆ†é¡µ/" itemprop="url">
                  ä¼˜åŒ–MySQLåˆ†é¡µ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2014-02-15T11:44:30+08:00" content="2014-02-15">
              2014-02-15
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¹‹å‰å†™çš„SQLæŸ¥è¯¢è¯­å¥æ ¹æœ¬æ²¡æœ‰è€ƒè™‘åˆ°æ€§èƒ½æ–¹é¢çš„é—®é¢˜ï¼Œä¸€æ˜¯è‡ªå·±æ²¡æœ‰ç»éªŒï¼ŒäºŒæ˜¯å› ä¸ºç½‘ç«™è§„æ¨¡å°æ•°æ®é‡ä¸å¤§ï¼Œè‡ªç„¶æ„Ÿå—ä¸åˆ°æŸ¥è¯¢å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<p>æœ€è¿‘ç”±äºæ•°æ®é‡å¼€å§‹çœŸå¤§ï¼Œåœ¨å¤§åå°ä¸€ä¸ªäº§å“åˆ—è¡¨çš„é¡µé¢å¡ä½äº†å¥½ä¹…ã€‚æœ€è¿‘ä¹Ÿåœ¨é˜…è¯»ã€Šé«˜æ€§èƒ½MYSQLã€‹ï¼Œå°±è§‰å¾—å°†æŸ¥è¯¢çš„è¯­å¥ä¼˜åŒ–ä¸‹ã€‚åºŸè¯ç»“æŸã€‚</p>
<hr>
<ul>
<li><p>ä¼ ç»Ÿåˆ†é¡µï¼š</p>
<ul>
<li>SELECT * FROM table LIMIT 100000,10</li>
</ul>
</li>
<li><p>LIMITçš„åŸç†ï¼š</p>
<ul>
<li>LIMIT åç§»é‡ï¼Œæ¡æ•°</li>
<li>å½“åç§»é‡è¶Šå¤§ï¼Œé€Ÿåº¦è¶Šæ…¢ã€‚</li>
</ul>
</li>
<li><p>æ¨èæ–¹æ³•ï¼š</p>
<ul>
<li>SELECT * FROM table WHERE id&gt;=100000 LIMIT 11 #10+1 (æ¯é¡µ10æ¡);</li>
<li>SELECT * FROM table INNER JOIN (SELECT id FROM table LIMIT 100000,10) AS t USING(id);</li>
<li>SELECT * FROM table WHERE id&gt;=(SELECT id FROM table LIMIT 100000,1) LIMIT 10; </li>
<li>SELECT id FROM table LIMIT 100000,10;<br>SELECT * FROM table WHERE id IN(100,101â€¦,110);</li>
</ul>
</li>
<li><p>å…¶ä»–ï¼š</p>
<ul>
<li>å°½é‡ä¸ç”¨SELECT * ï¼Œåªå–éœ€è¦æ•°æ®åˆ— <ul>
<li>æ›´å®‰å…¨çš„è®¾è®¡ï¼šå‡å°‘è¡¨å˜åŒ–å¸¦æ¥çš„å½±å“</li>
<li><strong>ä¸ºä½¿ç”¨covering indexæä¾›å¯èƒ½æ€§</strong></li>
<li>Select/JOINå‡å°‘ç¡¬ç›˜ä¸´æ—¶è¡¨ç”Ÿæˆï¼Œç‰¹åˆ«æ˜¯æœ‰TEXT/BLOBæ—¶</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>å‚è€ƒï¼š<br>0.MySQLæ•°æ®åº“å¼€å‘çš„ä¸‰åå…­æ¡å†›è§„<em>çŸ³å±•</em>å®Œæ•´.pdf<br>1.<a href="http://blog.chinaunix.net/uid-26602509-id-3363512.html" target="_blank" rel="external"><strong>mysql LIMIT å­å¥ç”¨æ³•åŠåŸç† </strong></a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="GuangPeng" />
          <p class="site-author-name" itemprop="name">GuangPeng</p>
          <p class="site-description motion-element" itemprop="description">å…‰ä¼šè‡ªç„¶ç…§åˆ°å®ƒåº”è¯¥åˆ°è¾¾çš„åœ°æ–¹ã€‚</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">GuangPeng</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="http://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
